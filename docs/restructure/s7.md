

**Overall Assessment of Updated Sprint 7:**

The updated Sprint 7 backlog correctly identifies and addresses the critical task of performing all remaining file migrations from the `src/` root into their appropriate modular subdirectories, and then assembling the final `CloudRegistration` application. It also correctly accounts for the proliferation of new, specialized folders within `src/` (e.g., `analysis/`, `crs/`, `features/`, `optimization/`, `performance/`, `quality/`, `registration/`, `implementations/`, `interfaces/`).

**Key Strengths of the Updated Sprint 7 Plan:**

1.  **Directly Addresses File Migration Debt**: This is the most crucial aspect. By explicitly listing all files that *must* be moved from `src/` root to their logical homes (UI, ProjectManagement, Parsers, Core, etc.), it ensures the physical file system matches the architectural intent.
2.  **Defines Missing Libraries**: It correctly identifies and proposes new libraries (e.g., `Analysis`, `CRS`, `Export`, `Features`, `Implementations`, `Interfaces`, `Optimization`, `Performance`, `ProjectManagement`) based on the current `repomix-output2.md` structure. This formalizes parts of the codebase that were previously just folders.
3.  **Comprehensive CMake Updates**: The plan details the necessary modifications to `src/app/CMakeLists.txt` (removing files from direct compilation and adding all new modular libraries to `target_link_libraries`), and the creation/update of `CMakeLists.txt` for each new/updated module. This ensures the build system accurately reflects the modular structure.
4.  **Thorough Include Path Refactoring**: The emphasis on updating *all* `#include` directives across the codebase to use the new modular paths is vital for successful compilation and maintaining architectural integrity.
5.  **Test Suite Consolidation**: It correctly plans the migration of all remaining test files into their module-specific `tests/<module_name>/` directories and updates the relevant `CMakeLists.txt` files. This is a massive but necessary step for a truly modular test suite.
6.  **Centralized Application Layer**: The plan correctly consolidates `main.cpp`, `mainwindow.h/.cpp`, `MainPresenter.h/.cpp`, `MainViewAdapter.h/.cpp`, `pointcloudviewerwidget.h/.cpp` into `src/app/`, creating a clean application entry point.

**Compatibility with Sprints 1-6:**

* **Foundation (Sprints 1-6)**: Sprint 7 directly builds upon the directory structure and initial CMake setup from Sprint 1. It assumes the `Core`, `Algorithms`, `Parsers`, `Rendering`, `UI` libraries' `CMakeLists.txt` are configured to *receive* these files and that their `PUBLIC` include paths are correctly set up.
* **Dependency Resolution**: By linking `CloudRegistration` against *all* modular libraries, it correctly assumes that the transitive `PUBLIC` dependencies from those libraries (e.g., `Core`'s Qt dependencies, `Algorithms`' `Eigen` dependency) will be resolved without issues.

**Compatibility with Sprint 8 (Test Suite Integration):**

* Sprint 7's extensive test file migration directly sets the stage for Sprint 8. Sprint 8 will then verify the correctness of these migrations and the linking of these tests against their respective modular libraries. This two-phase approach (migrate then verify) is logical given the scale of changes.

**Potential Challenges and Considerations for Execution:**

1.  **Massive Scope**: This Sprint 7 is exceptionally large. The sheer volume of file movements and corresponding `#include` updates will be a significant manual effort and highly prone to errors. It's almost equivalent to a major refactoring initiative in itself.
    * **Recommendation**: Break this sprint down internally into smaller, manageable sub-tasks. For example, "Migrate all UI files," "Migrate all ProjectManagement files," "Define new libraries," etc. Prioritize by dependency chain (e.g., ensure `Core`'s consumers are updated before `Core` is physically moved, or ensure new libraries are defined before they are linked).
2.  **Dependency Hell during Migration**: As files are moved, C++ includes will break. The process of updating thousands of `#include` directives will be the primary bottleneck.
    * **Recommendation**: Use IDE refactoring tools (e.g., Clion's "Move" refactoring) where possible. Automate with scripts if feasible for large patterns. Prioritize updating the `target_include_directories` in the consuming `CMakeLists.txt` files correctly.
3.  **Cyclic Dependencies**: With so many new and refactored modules, there's a risk of introducing accidental cyclic dependencies (e.g., `A` depends on `B`, and `B` now implicitly depends on `A`). This needs careful monitoring.
    * **Recommendation**: Post-Sprint 7, run tools (if available) to visualize and detect cyclic dependencies. Enforce strict coding guidelines for module interaction.
4.  **Implicit Headers**: Some header files (e.g., `pointdata.h`, `lasheadermetadata.h`, `loadingsettings.h`, `screenspaceerror.h`) were at `src/` root. The plan now moves them to `src/core/`. Ensure that *all* files that used to include them directly from `src/` are updated to `#include "core/header.h"`. This will be a wide-reaching change.
5.  **`MainPresenter_new.h`**: The plan correctly notes this. If it's a temporary or alternate version, it should be resolved (merged or deleted) rather than carried forward.
6.  **`SQLitemanager` and `ProjectTreeModel`**: The plan moves these to `src/ui/` based on the Sprint 6 backlog. As discussed in the previous review, these are core project management/data access components, not strictly UI. Their location in `src/ui/` might indicate a slight architectural compromise for now.
    * **Recommendation**: In a future "Architecture Refinement" sprint (e.g., post-Sprint 8), consider creating a dedicated `ProjectManagement` library under `src/projectmanagement/` for `ProjectStateService`, `ProjectManager`, `SQLiteManager`, `ProjectTreeModel`, `ScanImportManager`, `ProgressManager`. The `UI` library would then depend on this `ProjectManagement` library. This is a logical next step for ultimate modularity.

**Final Conclusion for Sprint 7:**

The updated Sprint 7 backlog is a **realistic and comprehensive plan** for integrating the entire application and resolving the remaining file structure inconsistencies. It expertly guides the final integration of all modular components into a fully functional application. The detailed actions, robust CMake configuration, and foresight regarding subsequent testing ensure that the project culminates in a well-assembled, testable, and maintainable product. The sheer volume of changes makes this sprint a critical bottleneck; diligent execution and careful attention to detail will be paramount.

---

## SPRINT 7 COMPLETION PLAN - REMAINING TASKS

Based on the current compilation errors, the following critical issues need to be resolved:

### Phase 1: Fix Include Path Issues (Priority: HIGH)
**Problem**: Many files are using relative include paths that don't work with the modular structure.

**Tasks**:
1. **Registration Library Includes**:
   - Fix `FeatureBasedRegistration.h` include of `../features/FeatureExtractor.h` → `features/FeatureExtractor.h`
   - Fix `PoseGraphBuilder.h` include of `../project.h` → `core/project.h`
   - Fix `RegistrationProject.h` include of `../project.h` → `core/project.h`
   - Fix `TargetDetectionBase.h` include of `../pointdata.h` → `core/pointdata.h`
   - Fix missing `registration/Target.h` and `registration/TargetManager.h` includes

2. **Analysis Library Includes**:
   - Fix `DifferenceAnalysis.h` include of `../pointdata.h` → `core/pointdata.h`

3. **Features Library Includes**:
   - Fix `FeatureExtractor.h` include of `../pointdata.h` → `core/pointdata.h`
   - Fix `FeatureExtractor.cpp` include of `FeatureExtractor.h` → `features/FeatureExtractor.h`

4. **Performance Library Includes**:
   - Fix `MemoryManager.h` include of `../pointdata.h` → `core/pointdata.h`
   - Fix `MemoryManager.cpp` include of `MemoryManager.h` → `performance/MemoryManager.h`

5. **Rendering Library Includes**:
   - Fix all rendering source files to include headers with `rendering/` prefix

6. **Export Library Includes**:
   - Fix `PointCloudExporter.cpp` include of `PointCloudExporter.h` → `export/PointCloudExporter.h`

7. **Implementations Library Includes**:
   - Fix `VoxelGridProcessor.cpp` include of `VoxelGridProcessor.h` → `implementations/VoxelGridProcessor.h`

8. **Parsers Library Includes**:
   - Fix `e57parserlib.h` include of `IE57Parser.h` → `interfaces/IE57Parser.h`

### Phase 2: Fix Missing Files and Headers (Priority: HIGH)
**Problem**: Some header files are missing or in wrong locations.

**Tasks**:
1. **Registration Library**:
   - Ensure `WorkflowStateMachine.h` exists in registration module
   - Verify all registration headers are in correct include/registration/ directory

2. **Quality Library**:
   - Add missing `#include <QVariant>` to QualityAssessment.h
   - Fix Qt include dependencies

### Phase 3: Fix E57 Library API Issues (Priority: MEDIUM)
**Problem**: libE57Format API has changed and needs updates.

**Tasks**:
1. **E57ParserCore.cpp fixes**:
   - Replace `majorVersion`/`minorVersion` with new API methods
   - Fix `CompressedVectorNode::reader()` calls to include required parameters
   - Fix `SourceDestBuffer` constructor calls to use references instead of pointers
   - Fix `CompressedVectorReader::read()` calls to use vector parameter
   - Fix `std::min` template type deduction issues with explicit casts

### Phase 4: Fix CMakeLists.txt Dependencies (Priority: MEDIUM)
**Problem**: Some libraries need proper dependencies to compile correctly.

**Tasks**:
1. **Update target_include_directories** for all libraries to use proper modular paths
2. **Add missing library dependencies** between modules
3. **Fix test CMakeLists.txt** to include proper dependencies

### Phase 5: Fix Application Layer Issues (Priority: LOW)
**Problem**: Application layer needs to use correct include paths.

**Tasks**:
1. **Update main.cpp** to include correct header (`app/mainwindow.h` instead of `app/mainwindow_simple.h`)
2. **Fix MainWindow includes** to use modular paths
3. **Update application CMakeLists.txt** if needed

### Implementation Priority Order:
1. **Phase 1** (Include Paths) - Most critical, affects all compilation
2. **Phase 2** (Missing Files) - Blocks compilation of specific modules
3. **Phase 4** (CMakeLists Dependencies) - Needed for proper linking
4. **Phase 3** (E57 API) - Complex but isolated to parsers module
5. **Phase 5** (Application Layer) - Final integration step

### Success Criteria:
- ✅ All modular libraries compile without errors
- ✅ All include paths use modular structure (`module/header.h`)
- ✅ E57 parser works with updated libE57Format API
- ✅ Application executable builds and links successfully
- ✅ Basic functionality test passes (application starts without crashes)

---

### List of Files being Created/Updated for Sprint 7

* **File 6 (Updated)**: `src/ui/CMakeLists.txt`
    * **Purpose**: Defines the `UI` static library with all its migrated components.
    * **Contents**:
        ```cmake
        # Define source files for the UI library (now includes migrated files from src/ root)
        set(UI_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/AlignmentControlPanel.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/ExportDialog.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/ICPProgressWidget.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/TargetDetectionDialog.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/UIThemeManager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/UserPreferences.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/ViewerToolbar.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/WorkflowProgressWidget.cpp
            
            # Files migrated from src/ root (as per repomix-output2.md analysis)
            ${CMAKE_CURRENT_SOURCE_DIR}/src/createprojectdialog.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/loadingsettingsdialog.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/projecthubwidget.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/recentprojectsmanager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/scanimportdialog.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/sidebarwidget.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/sqlitemanager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/projecttreemodel.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/pointcloudloadmanager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/progressmanager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/scanimportmanager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/IMainView.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/IPointCloudViewer.cpp
        )

        # Define header files for the UI library (now includes migrated headers from src/ root)
        set(UI_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/AlignmentControlPanel.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/ExportDialog.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/ICPProgressWidget.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/TargetDetectionDialog.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/UIThemeManager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/UserPreferences.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/ViewerToolbar.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/WorkflowProgressWidget.h
            
            # Headers migrated from src/ root (as per repomix-output2.md analysis)
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/createprojectdialog.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/loadingsettingsdialog.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/projecthubwidget.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/recentprojectsmanager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/scanimportdialog.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/sidebarwidget.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/sqlitemanager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/projecttreemodel.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/pointcloudloadmanager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/progressmanager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/scanimportmanager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/IMainView.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/ui/IPointCloudViewer.h
        )

        # Create UI static library
        add_library(UI STATIC ${UI_SOURCES} ${UI_HEADERS})

        target_include_directories(UI PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/ui>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/ui>
        )

        # UI library dependencies: Core, Algorithms, Parsers, Rendering, Registration, Quality, ProjectManagement, Qt UI components
        target_link_libraries(UI PUBLIC
            Core
            Algorithms # e.g. AlignmentControlPanel uses AlignmentEngine
            Parsers    # e.g. ScanImportDialog uses parser utilities
            Rendering  # e.g. ViewerToolbar controls viewer
            Registration # UI elements interacting with registration workflow/targets
            Quality # UI elements for quality review/reporting
            ProjectManagement # For project, scan, cluster management (assuming ProjectManagement library is created)
            Qt6::Core
            Qt6::Gui
            Qt6::Widgets
            Qt6::Sql # For SQLiteManager (assuming it remains in UI for now, or is moved to ProjectManagement)
        )
        message(STATUS "Configuring UI library...")
        ```
    * **Relationships**: Links with `Core`, `Algorithms`, `Parsers`, `Rendering`, `Registration`, `Quality`, `ProjectManagement`.

* **File 7 (Updated)**: `src/app/CMakeLists.txt`
    * **Purpose**: Defines the `CloudRegistration` executable after all possible files have been migrated to their modular homes.
    * **Contents**:
        ```cmake
        # Define source files for the main application executable
        set(APP_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/main.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/mainwindow.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/MainPresenter.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/MainPresenterExtensions.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/MainViewAdapter.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/pointcloudviewerwidget.cpp
            # Note: All other files previously at src/ root are assumed to be migrated to their modules
            # and should NOT be listed here.
        )

        set(APP_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/app/mainwindow.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/app/MainPresenter.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/app/MainViewAdapter.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/app/pointcloudviewerwidget.h
            # If MainPresenter_new.h is still distinct, include it here or integrate its content into MainPresenter.h
            # Assuming MainPresenter_new.h is consolidated into MainPresenter.h for this sprint.
        )

        # Create the main executable
        add_executable(CloudRegistration ${APP_SOURCES} ${APP_HEADERS})

        # Define private include directory for application-specific headers
        target_include_directories(CloudRegistration PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/include/app)

        # Link main executable against ALL modular libraries and necessary Qt modules
        target_link_libraries(CloudRegistration PRIVATE
            Core
            Algorithms
            Parsers
            Rendering
            UI
            Registration
            Quality
            Analysis # New library for DifferenceAnalysis
            CRS # New library for CoordinateSystemManager
            Export # New library for PointCloudExporter and FormatWriters
            Features # New library for FeatureExtractor
            Implementations # New library for VoxelGridProcessor etc.
            Interfaces # New library for IPointCloudProcessor (likely INTERFACE, so may not need direct link)
            Optimization # New library for BundleAdjustment
            Performance # New library for MemoryManager, ParallelProcessing
            ProjectManagement # New library for ProjectManager, ProjectStateService etc.
            
            # Direct Qt dependencies for the application executable (MainWindow, PointCloudViewerWidget)
            Qt6::Widgets
            Qt6::Gui
            Qt6::OpenGLWidgets
            Qt6::Sql
        )
        message(STATUS "Configuring CloudRegistration executable...")
        ```
    * **Relationships**: Links with ALL modular libraries.

* **File 8 (Updated)**: `tests/CMakeLists.txt`
    * **Purpose**: Top-level CMake file for the test suite, updated to orchestrate all tests.
    * **Contents**:
        ```cmake
        # Top-level CMakeLists.txt for all tests
        # This includes subdirectories for each module's tests.

        # Add subdirectories for each module's test suite
        add_subdirectory(tests/core)
        add_subdirectory(tests/algorithms)
        add_subdirectory(tests/analysis)
        add_subdirectory(tests/app)
        add_subdirectory(tests/camera) # Keep if other camera-related tests remain
        add_subdirectory(tests/crs)
        add_subdirectory(tests/detection) # Keep if any tests remain after moving to Registration
        add_subdirectory(tests/export)
        add_subdirectory(tests/features)
        add_subdirectory(tests/implementations)
        add_subdirectory(tests/interfaces)
        add_subdirectory(tests/mocks)
        add_subdirectory(tests/optimization)
        add_subdirectory(tests/parsers)
        add_subdirectory(tests/performance)
        add_subdirectory(tests/projectmanagement)
        add_subdirectory(tests/quality)
        add_subdirectory(tests/registration)
        add_subdirectory(tests/rendering)
        add_subdirectory(tests/ui)

        # Define a custom target to run all tests
        set(ALL_TESTS
            # Core Tests
            VoxelGridFilterTests
            PerformanceProfilerTests

            # Algorithms Tests
            LeastSquaresAlignmentTests
            ICPRegistrationTests
            PointToPlaneICPTests

            # Analysis Tests
            DifferenceAnalysisTests

            # Application & Integration Tests
            EndToEndIntegrationTests
            PerformanceValidationTests
            MainPresenterTests
            PointCloudViewerDecouplingTests
            PointCloudViewerRenderingR4Tests

            # CRS Tests
            CoordinateSystemManagerTests

            # Export Tests
            ExportWriterTests
            PointCloudExporterTests

            # Features Tests
            FeatureExtractorTests

            # Implementations Tests
            VoxelGridProcessorTests

            # Interfaces Tests
            PointCloudProcessorInterfaceTests

            # Optimization Tests
            BundleAdjustmentTests

            # Parsers Tests
            E57LinkageTest
            LasParserTests
            E57ParserTests
            E57ParserCoreTests
            E57ParserLibTests

            # Performance Tests
            MemoryManagerTests
            ParallelProcessingTests

            # Project Management Tests
            ProjectManagerTests
            ProjectStateServiceTests

            # Quality Tests
            QualityAssessmentTests
            QualityReportingTests

            # Registration Tests
            TargetTests
            TargetManagerTests
            NaturalPointSelectorTests
            SphereDetectorTests
            RegistrationWorkflowTests
            PoseGraphTests
            AlignmentEngineTests
            ErrorAnalysisTests

            # Rendering Tests
            CameraControllerTests
            OpenGLInitTest
            GpuCullerTests
            OpenGLRendererTests

            # UI Tests
            RecentProjectsManagerTests
            UIEnhancementTests
        )

        add_custom_target(run_all_tests
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG>
            DEPENDS ${ALL_TESTS}
            COMMENT "Running all unit and integration tests across all modular libraries"
            VERBATIM
        )

        # Define category-specific test targets for focused testing
        add_custom_target(test_core_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(VoxelGridFilterTests|PerformanceProfilerTests)"
            COMMENT "Running Core library tests"
            VERBATIM
        )
        add_custom_target(test_algorithms_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(LeastSquaresAlignmentTests|ICPRegistrationTests|PointToPlaneICPTests)"
            COMMENT "Running Algorithms library tests"
            VERBATIM
        )
        add_custom_target(test_parsers_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(E57LinkageTest|LasParserTests|E57ParserTests|E57ParserCoreTests|E57ComprehensiveTests|E57ParserLibTests)"
            COMMENT "Running Parser library tests"
            VERBATIM
        )
        add_custom_target(test_rendering_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(CameraControllerTests|OpenGLInitTest|GpuCullerTests|OpenGLRendererTests)"
            COMMENT "Running Rendering library tests"
            VERBATIM
        )
        add_custom_target(test_ui_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(RecentProjectsManagerTests|UIEnhancementTests)"
            COMMENT "Running UI library tests"
            VERBATIM
        )
        add_custom_target(test_registration_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(TargetTests|TargetManagerTests|NaturalPointSelectorTests|SphereDetectorTests|RegistrationWorkflowTests|PoseGraphTests|FeatureBasedRegistrationTests|AlignmentEngineTests|ErrorAnalysisTests)"
            COMMENT "Running Registration related tests"
            VERBATIM
        )
        add_custom_target(test_app_integration
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(EndToEndIntegrationTests|PerformanceValidationTests|MainPresenterTests|PointCloudViewerDecouplingTests|PointCloudViewerRenderingR4Tests)"
            COMMENT "Running Application Integration tests"
            VERBATIM
        )
        add_custom_target(test_quality_only
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(QualityAssessmentTests|QualityReportingTests)"
            COMMENT "Running Quality library tests"
            VERBATIM
        )
        add_custom_target(test_all_new_modules
            COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -C $<CONFIG> -R "(DifferenceAnalysisTests|CoordinateSystemManagerTests|ExportWriterTests|PointCloudExporterTests|FeatureExtractorTests|VoxelGridProcessorTests|PointCloudProcessorInterfaceTests|BundleAdjustmentTests|MemoryManagerTests|ParallelProcessingTests|ProjectManagerTests|ProjectStateServiceTests)"
            COMMENT "Running tests for all newly defined granular modules"
            VERBATIM
        )
        ```
    * **Relationships**: Orchestrates all tests.

* **New/Updated CMakeLists.txt for new/migrated modules (examples below):**

    * **File 172 \[NEW\]**: `src/analysis/CMakeLists.txt`
        ```cmake
        # Define source files for the Analysis library
        set(ANALYSIS_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/DifferenceAnalysis.cpp
        )
        set(ANALYSIS_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/analysis/DifferenceAnalysis.h
        )
        add_library(Analysis STATIC ${ANALYSIS_SOURCES} ${ANALYSIS_HEADERS})
        target_include_directories(Analysis PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/analysis>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/analysis>
        )
        target_link_libraries(Analysis PUBLIC Core Qt6::Core Qt6::Gui) # Core for Point3D, Qt6::Gui for QVector
        message(STATUS "Configuring Analysis library...")
        ```
    * **Relationships**: Links with `Core`, `Qt6::Core`, `Qt6::Gui`.

    * **File 173 \[NEW/Moved\]**: `src/analysis/include/analysis/DifferenceAnalysis.h`
    * **File 174 \[NEW/Moved\]**: `src/analysis/src/DifferenceAnalysis.cpp`

    * **File 175 \[NEW\]**: `src/crs/CMakeLists.txt`
        ```cmake
        # Define source files for the CRS library
        set(CRS_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/CoordinateSystemManager.cpp
        )
        set(CRS_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/crs/CoordinateSystemManager.h
        )
        add_library(CRS STATIC ${CRS_SOURCES} ${CRS_HEADERS})
        target_include_directories(CRS PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/crs>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/crs>
        )
        target_link_libraries(CRS PUBLIC Core Export Qt6::Core Qt6::Gui) # Core for Point struct, Export for Point, Qt6::Gui for QVector
        message(STATUS "Configuring CRS library...")
        ```
    * **Relationships**: Links with `Core`, `Export`, `Qt6::Core`, `Qt6::Gui`.

    * **File 176 \[NEW/Moved\]**: `src/crs/include/crs/CoordinateSystemManager.h`
    * **File 177 \[NEW/Moved\]**: `src/crs/src/CoordinateSystemManager.cpp`

    * **File 178 \[NEW\]**: `src/features/CMakeLists.txt`
        ```cmake
        # Define source files for the Features library
        set(FEATURES_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/FeatureExtractor.cpp
        )
        set(FEATURES_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/features/FeatureExtractor.h
        )
        add_library(Features STATIC ${FEATURES_SOURCES} ${FEATURES_HEADERS})
        target_include_directories(Features PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/features>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/features>
        )
        target_link_libraries(Features PUBLIC Core Qt6::Core Qt6::Gui) # Core for Point3D, Qt6::Gui for QVector
        message(STATUS "Configuring Features library...")
        ```
    * **Relationships**: Links with `Core`, `Qt6::Core`, `Qt6::Gui`.

    * **File 179 \[NEW/Moved\]**: `src/features/include/features/FeatureExtractor.h`
    * **File 180 \[NEW/Moved\]**: `src/features/src/FeatureExtractor.cpp`

    * **File 181 \[NEW\]**: `src/implementations/CMakeLists.txt`
        ```cmake
        # Define source files for the Implementations library
        set(IMPLEMENTATIONS_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/VoxelGridProcessor.cpp
        )
        set(IMPLEMENTATIONS_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/implementations/VoxelGridProcessor.h
        )
        add_library(Implementations STATIC ${IMPLEMENTATIONS_SOURCES} ${IMPLEMENTATIONS_HEADERS})
        target_include_directories(Implementations PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/implementations>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/implementations>
        )
        target_link_libraries(Implementations PUBLIC Core Interfaces Qt6::Core) # Core for Point3D, Interfaces for IPointCloudProcessor
        message(STATUS "Configuring Implementations library...")
        ```
    * **Relationships**: Links with `Core`, `Interfaces`, `Qt6::Core`.

    * **File 182 \[NEW/Moved\]**: `src/implementations/include/implementations/VoxelGridProcessor.h`
    * **File 183 \[NEW/Moved\]**: `src/implementations/src/VoxelGridProcessor.cpp`

    * **File 184 \[NEW\]**: `src/interfaces/CMakeLists.txt`
        ```cmake
        # Define Interfaces as a header-only library
        add_library(Interfaces INTERFACE)
        target_include_directories(Interfaces INTERFACE
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/interfaces>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/interfaces>
        )
        # Interfaces might need to expose dependencies like Core for types it uses in its API
        target_link_libraries(Interfaces INTERFACE Core Qt6::Core) # Add if core types are used directly in interfaces headers
        message(STATUS "Configuring Interfaces library (Header-only)...")
        ```
    * **Relationships**: Links with `Core`, `Qt6::Core`.

    * **File 185 \[NEW/Moved\]**: `src/interfaces/include/interfaces/IPointCloudProcessor.h`

    * **File 186 \[NEW\]**: `src/optimization/CMakeLists.txt`
        ```cmake
        # Define source files for the Optimization library
        set(OPTIMIZATION_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/BundleAdjustment.cpp
        )
        set(OPTIMIZATION_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/optimization/BundleAdjustment.h
        )
        add_library(Optimization STATIC ${OPTIMIZATION_SOURCES} ${OPTIMIZATION_HEADERS})
        target_include_directories(Optimization PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/optimization>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/optimization>
        )
        target_link_libraries(Optimization PUBLIC Core Algorithms Registration Qt6::Core Qt6::Gui Eigen3::Eigen) # Registration for PoseGraph
        message(STATUS "Configuring Optimization library...")
        ```
    * **Relationships**: Links with `Core`, `Algorithms`, `Registration`, `Qt6::Core`, `Qt6::Gui`, `Eigen3::Eigen`.

    * **File 187 \[NEW/Moved\]**: `src/optimization/include/optimization/BundleAdjustment.h`
    * **File 188 \[NEW/Moved\]**: `src/optimization/src/BundleAdjustment.cpp`

    * **File 189 \[NEW\]**: `src/performance/CMakeLists.txt`
        ```cmake
        # Define source files for the Performance library
        set(PERFORMANCE_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/MemoryManager.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/ParallelProcessing.cpp # Assuming ParallelProcessing also moves here
        )
        set(PERFORMANCE_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/performance/MemoryManager.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/performance/ParallelProcessing.h # Assuming ParallelProcessing also moves here
        )
        add_library(Performance STATIC ${PERFORMANCE_SOURCES} ${PERFORMANCE_HEADERS})
        target_include_directories(Performance PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/performance>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/performance>
        )
        target_link_libraries(Performance PUBLIC Core Qt6::Core Qt6::Gui) # Core for PointFullData
        message(STATUS "Configuring Performance library...")
        ```
    * **Relationships**: Links with `Core`, `Qt6::Core`, `Qt6::Gui`.

    * **File 190 \[NEW/Moved\]**: `src/performance/include/performance/MemoryManager.h`
    * **File 191 \[NEW/Moved\]**: `src/performance/src/MemoryManager.cpp`
    * **File 192 \[NEW/Moved\]**: `src/performance/include/performance/ParallelProcessing.h`
    * **File 193 \[NEW/Moved\]**: `src/performance/src/ParallelProcessing.cpp`

    * **File 194 \[NEW\]**: `src/projectmanagement/CMakeLists.txt`
        ```cmake
        # Define source files for the ProjectManagement library
        set(PROJECT_MANAGEMENT_SOURCES
            ${CMAKE_CURRENT_SOURCE_DIR}/src/ProjectStateService.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/src/projectmanager.cpp
        )
        set(PROJECT_MANAGEMENT_HEADERS
            ${CMAKE_CURRENT_SOURCE_DIR}/include/projectmanagement/ProjectStateService.h
            ${CMAKE_CURRENT_SOURCE_DIR}/include/projectmanagement/projectmanager.h
        )
        add_library(ProjectManagement STATIC ${PROJECT_MANAGEMENT_SOURCES} ${PROJECT_MANAGEMENT_HEADERS})
        target_include_directories(ProjectManagement PUBLIC
            $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/projectmanagement>
            $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/CloudRegistration/projectmanagement>
        )
        target_link_libraries(ProjectManagement PUBLIC Core UI Qt6::Core Qt6::Gui Qt6::Sql) # Core for ProjectInfo, UI for RecentProjectsManager, ProjectTreeModel
        message(STATUS "Configuring ProjectManagement library...")
        ```
    * **Relationships**: Links with `Core`, `UI`, `Qt6::Core`, `Qt6::Gui`, `Qt6::Sql`.

    * **File 195 \[NEW/Moved\]**: `src/projectmanagement/include/projectmanagement/ProjectStateService.h`
    * **File 196 \[NEW/Moved\]**: `src/projectmanagement/src/ProjectStateService.cpp`
    * **File 197 \[NEW/Moved\]**: `src/projectmanagement/include/projectmanagement/projectmanager.h`
    * **File 198 \[NEW/Moved\]**: `src/projectmanagement/src/projectmanager.cpp`

* **Files Migrated to `src/app/` (New File IDs for current locations):**
    * **File 199 \[NEW/Moved\]**: `src/app/main.cpp`
    * **File 200 \[NEW/Moved\]**: `src/app/mainwindow.h`
    * **File 201 \[NEW/Moved\]**: `src/app/mainwindow.cpp`
    * **File 202 \[NEW/Moved\]**: `src/app/MainPresenter.h`
    * **File 203 \[NEW/Moved\]**: `src/app/MainPresenter.cpp`
    * **File 204 \[NEW/Removed]**: `src/app/MainPresenter_new.h` (This file is assumed to be merged/removed from the codebase in favor of `MainPresenter.h`).
    * **File 205 \[NEW/Moved\]**: `src/app/MainPresenterExtensions.cpp`
    * **File 206 \[NEW/Moved\]**: `src/app/MainViewAdapter.h`
    * **File 207 \[NEW/Moved\]**: `src/app/MainViewAdapter.cpp`
    * **File 208 \[NEW/Moved\]**: `src/app/pointcloudviewerwidget.h` (Moved from `src/rendering/include/rendering/`)
    * **File 209 \[NEW/Moved\]**: `src/app/pointcloudviewerwidget.cpp` (Moved from `src/rendering/src/`)

* **Test Files Migrated to `tests/app/` (New File IDs for current locations):**
    * **File 210 \[NEW/Moved\]**: `tests/app/test_end_to_end_integration.cpp`
    * **File 211 \[NEW/Moved\]**: `tests/app/test_performance_validation.cpp`
    * **File 212 \[NEW/Moved\]**: `tests/app/test_mainpresenter.cpp`
    * **File 213 \[NEW/Moved\]**: `tests/app/test_pointcloudviewer_decoupling.cpp`
    * **File 214 \[NEW/Moved\]**: `tests/app/test_pointcloudviewer_rendering_r4.cpp`

* **Test Files for Newly Defined Modules (New File IDs for current locations):**
    * **File 215 \[NEW\]**: `tests/analysis/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for Analysis module tests
        add_executable(DifferenceAnalysisTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_difference_analysis.cpp
        )
        target_link_libraries(DifferenceAnalysisTests PRIVATE
            Analysis
            Core # For Point3D (if it's in Core, otherwise check its actual location)
            GTest::gtest_main
            Qt6::Test
            Qt6::Core # For QObject, QSignalSpy
            Qt6::Gui # For QVector, QMatrix4x4
        )
        target_include_directories(DifferenceAnalysisTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/analysis/include/analysis
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core # If Analysis headers depend on Core headers
        )
        add_test(NAME DifferenceAnalysisTests COMMAND DifferenceAnalysisTests)
        ```
    * **File 216 \[NEW/Moved\]**: `tests/analysis/test_difference_analysis.cpp`

    * **File 217 \[NEW\]**: `tests/crs/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for CRS module tests
        add_executable(CoordinateSystemManagerTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_coordinate_system_manager.cpp
        )
        target_link_libraries(CoordinateSystemManagerTests PRIVATE
            CRS
            Core # For Point (if shared through Core)
            Export # For Point (if shared through Export library instead of Core)
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
            Qt6::Gui # For QVector3D, QMatrix4x4
        )
        target_include_directories(CoordinateSystemManagerTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/crs/include/crs
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core # If CRS depends on Core headers
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/export/include/export # If CRS depends on Export headers
        )
        add_test(NAME CoordinateSystemManagerTests COMMAND CoordinateSystemManagerTests)
        ```
    * **File 218 \[NEW/Moved\]**: `tests/crs/test_coordinate_system_manager.cpp`

    * **File 219 \[NEW\]**: `tests/features/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for Features module tests
        add_executable(FeatureExtractorTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_feature_extractor.cpp
        )
        target_link_libraries(FeatureExtractorTests PRIVATE
            Features
            Core # For Point3D
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
            Qt6::Gui # For QVector3D, QList, QSet
        )
        target_include_directories(FeatureExtractorTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/features/include/features
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core # If FeatureExtractor uses Core's Point3D
        )
        add_test(NAME FeatureExtractorTests COMMAND FeatureExtractorTests)
        ```
    * **File 220 \[NEW/Moved\]**: `tests/features/test_feature_extractor.cpp`

    * **File 221 \[NEW\]**: `tests/implementations/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for Implementations module tests
        add_executable(VoxelGridProcessorTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_voxel_grid_processor.cpp
        )
        target_link_libraries(VoxelGridProcessorTests PRIVATE
            Implementations
            Core # For Point3D (if shared)
            Interfaces # For IPointCloudProcessor
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
        )
        target_include_directories(VoxelGridProcessorTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/implementations/include/implementations
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/interfaces/include/interfaces
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core # If Implementations depends on Core headers
        )
        add_test(NAME VoxelGridProcessorTests COMMAND VoxelGridProcessorTests)
        ```
    * **File 222 \[NEW/Moved\]**: `tests/implementations/test_voxel_grid_processor.cpp`

    * **File 223 \[NEW\]**: `tests/interfaces/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for Interfaces module tests
        # This test ensures the interface definition is valid and can be used.
        add_executable(PointCloudProcessorInterfaceTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_point_cloud_processor_interface.cpp
        )
        target_link_libraries(PointCloudProcessorInterfaceTests PRIVATE
            Interfaces # Link against INTERFACE library
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
        )
        target_include_directories(PointCloudProcessorInterfaceTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/interfaces/include/interfaces
        )
        add_test(NAME PointCloudProcessorInterfaceTests COMMAND PointCloudProcessorInterfaceTests)
        ```
    * **File 224 \[NEW/Moved\]**: `tests/interfaces/test_point_cloud_processor_interface.cpp`

    * **File 225 \[NEW\]**: `tests/optimization/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for Optimization module tests
        add_executable(BundleAdjustmentTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_bundle_adjustment.cpp
        )
        target_link_libraries(BundleAdjustmentTests PRIVATE
            Optimization
            Core
            Algorithms # For its algorithms
            Registration # For PoseGraph
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
            Qt6::Gui # For QMatrix4x4, QVector3D
            Eigen3::Eigen
        )
        target_include_directories(BundleAdjustmentTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/optimization/include/optimization
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/algorithms/include/algorithms
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/registration/include/registration
        )
        add_test(NAME BundleAdjustmentTests COMMAND BundleAdjustmentTests)
        ```
    * **File 226 \[NEW/Moved\]**: `tests/optimization/test_bundle_adjustment.cpp`

    * **File 227 \[NEW\]**: `tests/performance/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for Performance module tests
        add_executable(MemoryManagerTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_memory_manager.cpp
        )
        target_link_libraries(MemoryManagerTests PRIVATE
            Performance
            Core # For PointFullData
            GTest::gtest_main
            Qt6::Test
            Qt6::Core # For QObject, QTimer, QMutex
        )
        target_include_directories(MemoryManagerTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/performance/include/performance
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core
        )
        add_test(NAME MemoryManagerTests COMMAND MemoryManagerTests)

        add_executable(ParallelProcessingTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_parallel_processing.cpp
        )
        target_link_libraries(ParallelProcessingTests PRIVATE
            Performance
            Core
            GTest::gtest_main
            Qt6::Test
            Qt6::Core # For QThread, QFuture
        )
        target_include_directories(ParallelProcessingTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/performance/include/performance
        )
        add_test(NAME ParallelProcessingTests COMMAND ParallelProcessingTests)
        ```
    * **File 228 \[NEW/Moved\]**: `tests/performance/test_memory_manager.cpp`
    * **File 229 \[NEW/Moved\]**: `tests/performance/test_parallel_processing.cpp`

    * **File 230 \[NEW\]**: `tests/projectmanagement/CMakeLists.txt`
        ```cmake
        # CMakeLists.txt for ProjectManagement module tests
        add_executable(ProjectManagerTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_project_manager.cpp
        )
        target_link_libraries(ProjectManagerTests PRIVATE
            ProjectManagement
            Core # For ProjectInfo, Project etc.
            UI # For RecentProjectsManager, ProjectTreeModel access (if UI is linked to ProjectManagement)
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
            Qt6::Gui # For QDir, QFileInfo, QTemporaryDir
            Qt6::Sql # For SQLiteManager
        )
        target_include_directories(ProjectManagerTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/projectmanagement/include/projectmanagement
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/ui/include/ui # For RecentProjectsManager, ProjectTreeModel
        )
        add_test(NAME ProjectManagerTests COMMAND ProjectManagerTests)

        add_executable(ProjectStateServiceTests
            ${CMAKE_CURRENT_SOURCE_DIR}/test_project_state_service.cpp
        )
        target_link_libraries(ProjectStateServiceTests PRIVATE
            ProjectManagement
            Core
            UI # For SQLiteManager, ProjectTreeModel access
            GTest::gtest_main
            Qt6::Test
            Qt6::Core
            Qt6::Gui
            Qt6::Sql
        )
        target_include_directories(ProjectStateServiceTests PRIVATE
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/projectmanagement/include/projectmanagement
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/core/include/core
            ${CMAKE_CURRENT_SOURCE_DIR}/../../src/ui/include/ui # For SQLiteManager, ProjectTreeModel includes
        )
        add_test(NAME ProjectStateServiceTests COMMAND ProjectStateServiceTests)
        ```
    * **File 231 \[NEW/Moved\]**: `tests/projectmanagement/test_project_manager.cpp`
    * **File 232 \[NEW/Moved\]**: `tests/projectmanagement/test_project_state_service.cpp`

* **Files (New/Moved from `src/` to `src/app/`) - These are the actual application layer files, now in `src/app/`:**
    * **File 199 \[NEW/Moved\]**: `src/app/main.cpp`
    * **File 200 \[NEW/Moved\]**: `src/app/mainwindow.h`
    * **File 201 \[NEW/Moved\]**: `src/app/mainwindow.cpp`
    * **File 202 \[NEW/Moved\]**: `src/app/MainPresenter.h`
    * **File 203 \[NEW/Moved\]**: `src/app/MainPresenter.cpp`
    * **File 204 \[NEW/Removed]**: `src/app/MainPresenter_new.h` (This file is assumed to be merged/removed from the codebase in favor of `MainPresenter.h`).
    * **File 205 \[NEW/Moved\]**: `src/app/MainPresenterExtensions.cpp`
    * **File 206 \[NEW/Moved\]**: `src/app/MainViewAdapter.h`
    * **File 207 \[NEW/Moved\]**: `src/app/MainViewAdapter.cpp`
    * **File 208 \[NEW/Moved\]**: `src/app/pointcloudviewerwidget.h` (Moved from `src/rendering/include/rendering/`)
    * **File 209 \[NEW/Moved\]**: `src/app/pointcloudviewerwidget.cpp` (Moved from `src/rendering/src/`)

* **Test Files (New/Moved from `tests/` to `tests/app/`)** - These are the actual application-level test `.cpp` files, now in `tests/app/`:
    * **File 210 \[NEW/Moved\]**: `tests/app/test_end_to_end_integration.cpp`
    * **File 211 \[NEW/Moved\]**: `tests/app/test_performance_validation.cpp`
    * **File 212 \[NEW/Moved\]**: `tests/app/test_mainpresenter.cpp`
    * **File 213 \[NEW/Moved\]**: `tests/app/test_pointcloudviewer_decoupling.cpp`
    * **File 214 \[NEW/Moved\]**: `tests/app/test_pointcloudviewer_rendering_r4.cpp`

* **Test Files for Newly Defined Modules (New File IDs for current locations):**
    * **File 215 \[NEW\]**: `tests/analysis/CMakeLists.txt` (as defined above)
    * **File 216 \[NEW/Moved\]**: `tests/analysis/test_difference_analysis.cpp` (as defined above)

    * **File 217 \[NEW\]**: `tests/crs/CMakeLists.txt` (as defined above)
    * **File 218 \[NEW/Moved\]**: `tests/crs/test_coordinate_system_manager.cpp` (as defined above)

    * **File 219 \[NEW\]**: `tests/features/CMakeLists.txt` (as defined above)
    * **File 220 \[NEW/Moved\]**: `tests/features/test_feature_extractor.cpp` (as defined above)

    * **File 221 \[NEW\]**: `tests/implementations/CMakeLists.txt` (as defined above)
    * **File 222 \[NEW/Moved\]**: `tests/implementations/test_voxel_grid_processor.cpp` (as defined above)

    * **File 223 \[NEW\]**: `tests/interfaces/CMakeLists.txt` (as defined above)
    * **File 224 \[NEW/Moved\]**: `tests/interfaces/test_point_cloud_processor_interface.cpp` (as defined above)

    * **File 225 \[NEW\]**: `tests/optimization/CMakeLists.txt` (as defined above)
    * **File 226 \[NEW/Moved\]**: `tests/optimization/test_bundle_adjustment.cpp` (as defined above)

    * **File 227 \[NEW\]**: `tests/performance/CMakeLists.txt` (as defined above)
    * **File 228 \[NEW/Moved\]**: `tests/performance/test_memory_manager.cpp` (as defined above)
    * **File 229 \[NEW/Moved\]**: `tests/performance/test_parallel_processing.cpp` (as defined above)

    * **File 230 \[NEW\]**: `tests/projectmanagement/CMakeLists.txt` (as defined above)
    * **File 231 \[NEW/Moved\]**: `tests/projectmanagement/test_project_manager.cpp` (as defined above)
    * **File 232 \[NEW/Moved\]**: `tests/projectmanagement/test_project_state_service.cpp` (as defined above)